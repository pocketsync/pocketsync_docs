---
title: "System overview"
description: "Understanding how PocketSync works globally"
---

## Global system overview

PocketSync is a distributed system that enables seamless data synchronization across multiple devices while maintaining data consistency and handling offline scenarios.

### System components

1. **Client devices**
   - Mobile applications
   - Desktop applications

2. **PocketSync server**
   - Central coordination point
   - Change processing and distribution
   - Conflict resolution

3. **Database layer**
   - Local SQLite databases on devices
   - Server-side storage for change history

## Data flow

### 1. Local changes

When a device makes changes to its local database:
- Changes are captured through SQL triggers
- Each modification is logged with metadata
- Changes are queued for synchronization

### 2. Synchronization process

1. **Change detection**
   - Device identifies new local changes
   - Changes are packaged with version information

2. **Server communication**
   - Device sends changes to server
   - Server validates incoming changes
   - Changes are processed and stored

3. **Change distribution**
   - Server notifies other devices
   - Changes are propagated to online devices
   - Offline devices queue for later sync

### 3. Conflict handling

- Server detects conflicting changes
- Applies configured resolution strategy
- Notifies devices of resolution results

## Offline support

### 1. Offline operation

- Devices continue normal operation offline
- All changes are logged locally
- Version tracking maintains consistency

### 2. Reconnection process

1. **State recovery**
   - Device reports last sync state
   - Server identifies missed changes

2. **Change reconciliation**
   - Missed changes are downloaded
   - Local changes are uploaded
   - Conflicts are resolved

## Real-time updates

### 1. Change notifications

- WebSocket connections for active devices
- Immediate change propagation
- Efficient delta updates

### 2. State management

- Devices maintain local state
- Server tracks global state
- Version vectors ensure consistency

## System guarantees

1. **Data consistency**
   - Eventually consistent across devices
   - Transactional integrity
   - Conflict resolution

2. **Reliability**
   - Fault tolerance
   - Data durability
   - Recovery mechanisms

3. **Performance**
   - Efficient change tracking
   - Optimized sync protocol
   - Minimal network usage